

- **Shared Memory ржХрзА?**  
- **Task ржмрж╛ ржХрж╛ржЬ ржХрзАржнрж╛ржмрзЗ ржЪрж▓рзЗ?**  
- **Real example/diagram рж╕рж╣** ржмрзНржпрж╛ржЦрзНржпрж╛?  

ржЖржорж┐ ржЦрзБржм рж╕рзБржирзНржжрж░ ржХрж░рзЗ рждрзЛржорж╛ржХрзЗ ржмрзНржпрж╛ржЦрзНржпрж╛ ржжрж┐ржЪрзНржЫрж┐ тАФ ЁЯФе

---

# ЁЯФ╡ Shared Memory (ржнрж╛ржЧ ржХрж░рж╛ ржорзЗржорзЛрж░рж┐) ржХрзА?

- **Shared memory** рж╣рж▓рзЛ ржПржоржи ржПржХржЯрж┐ ржорзЗржорзЛрж░рж┐ ржмрзНрж▓ржХ, ржпрзЗржЦрж╛ржирзЗ **ржПржХрж╛ржзрж┐ржХ ржкрзНрж░рж╕рзЗрж╕ ржПржХрж╕рж╛ржерзЗ Access ржХрж░рждрзЗ ржкрж╛рж░рзЗ**ред
- ржПржЯрж╛ **fastest form of inter-process communication (IPC)** (ржорж╛ржирзЗ ржжрзБржЗржЯрж╛ ржкрзНрж░рж╕рзЗрж╕рзЗрж░ ржоржзрзНржпрзЗ ржбрзЗржЯрж╛ ржЖржжрж╛ржи-ржкрзНрж░ржжрж╛ржи ржХрж░рж╛рж░ рж╕ржмржЪрзЗрзЯрзЗ ржжрзНрж░рзБрждрждржо ржЙржкрж╛ржпрж╝)ред
- ржПржХржмрж╛рж░ ржпржжрж┐ ржжрзБржЗржЯрж╛ ржкрзНрж░рж╕рзЗрж╕ ржПржХржЗ shared memory рждрзЗ ржпрзБржХрзНржд рж╣рзЯ, рждрж╛рж░рж╛ **directly** рждржерзНржп **share/read/write** ржХрж░рждрзЗ ржкрж╛рж░рзЗред

---

# ЁЯФ╡ ржорзВрж▓ ржХрж╛ржЬрзЗрж░ ржзрж╛ржк (Task of Shared Memory):

ржЖржорж┐ ржПржХржЯрж╛ ржлрзНрж▓рзЛ ржмрж╛ржирж╛рж▓рж╛ржо ЁЯСЗ

```plaintext
ржкрзНрж░рж╕рзЗрж╕ рзз ржПржмржВ ржкрзНрж░рж╕рзЗрж╕ рзи
      |
      V
1. ржПржХржЯрж┐ Shared Memory Create ржХрж░рж╛ рж╣рзЯ (shmget ржжрж┐рзЯрзЗ)
      |
2. ржкрзНрж░рж╕рзЗрж╕ржЧрзБрж▓рзЛ рж╕рзЗржЗ Shared Memory рждрзЗ Attach рж╣рзЯ (shmat ржжрж┐рзЯрзЗ)
      |
3. ржПржХржЯрж┐ ржкрзНрж░рж╕рзЗрж╕ ржбрзЗржЯрж╛ Write ржХрж░рзЗ
      |
4. ржЕржирзНржп ржкрзНрж░рж╕рзЗрж╕ рж╕рзЗржЗ ржбрзЗржЯрж╛ Read ржХрж░рзЗ
      |
5. ржХрж╛ржЬ рж╢рзЗрж╖ рж╣рж▓рзЗ Detach ржХрж░рж╛ рж╣рзЯ (shmdt ржжрж┐рзЯрзЗ)
      |
6. ржЕржмрж╢рзЗрж╖рзЗ, Shared Memory Destroy ржХрж░рж╛ рж╣рзЯ (shmctl ржжрж┐рзЯрзЗ, ржпржжрж┐ ржкрзНрж░рзЯрзЛржЬржи рж╣рзЯ)
```

---

# ЁЯФ╡ ржЖрж░ржУ ржкрж░рж┐рж╖рзНржХрж╛рж░ ржнрж╛ржмрзЗ ржмрзБржЭрж┐: ржПржХржЯрж┐ ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг

ржзрж░рзЛ, рждрзБржорж┐ ржПржХржЯрж╛ рж░рзЗрж╕рзНржЯрзБрж░рзЗржирзНржЯ ржЪрж╛рж▓рж╛ржУред  
- **Parent** = Manager
- **Child** = Worker

**Shared Memory = ржПржХржЯрж╛ рж╣рзЛрзЯрж╛ржЗржЯ ржмрзЛрж░рзНржб, ржпрзЗржЯрж╛рждрзЗ рж╕ржмрж╛ржЗ ржЗржиржлрж░ржорзЗрж╢ржи рж▓рж┐ржЦрждрзЗ ржкрж╛рж░рзЗ, ржкрзЬрждрзЗржУ ржкрж╛рж░рзЗред**

тЬЕ Manager (Parent) ржмрж▓рзЗ ржжрж┐рж▓рзЛ ржмрзЛрж░рзНржбрзЗ: "**Order Ready: Burger**"  
тЬЕ Worker (Child) ржжрзЗржЦрзЗ ржлрзЗрж▓рзЗ: "**Burger pick kore customer ke dey**"  

ржПржЦрж╛ржирзЗ "ржмрзЛрж░рзНржб" ржЗ рж╣ржЪрзНржЫрзЗ **Shared Memory** тАФ  
ржПржХржмрж╛рж░ рж▓рзЗржЦрж╛ рж╣рж▓рзЗ, рж╕ржмрж╛ржЗ рж╕рзЗржЯрж╛ Access ржХрж░рждрзЗ ржкрж╛рж░ржЫрзЗред

---

# ЁЯФ╡ рждрзЛржорж╛рж░ ржкрзНрж░рзЛржЧрзНрж░рж╛ржорзЗ ржХрзА рж╣ржЪрзНржЫрзЗ?

| ржзрж╛ржк | Parent | Child |
|:---|:---|:---|
| 1 | ржПржХржЯрж┐ Shared Memory ржмрж╛ржирж╛рзЯ | |
| 2 | fork() ржХрж░рзЗ Child рждрзИрж░рж┐ ржХрж░рзЗ | |
| 3 | | Shared Memory рждрзЗ 20 рж▓рж┐ржЦрзЗ |
| 4 | | Memory Detach ржХрж░рзЗ |
| 5 | Parent ржжрзЗржЦржЫрзЗ Shared Memory ржПрж░ ржбрзЗржЯрж╛ (20) |
| 6 | Parent Memory detach ржХрж░рзЗ |
| 7 | Parent ржЪрж╛ржЗрж▓рзНржбрзЗрж░ ржХрж╛ржЬ рж╢рзЗрж╖ рж╣ржУржпрж╝рж╛ ржкрж░рзНржпржирзНржд wait ржХрж░рзЗ |
| 8 | Success message ржжрзЗрзЯ |

---

# ЁЯФ╡ ржЫрзЛржЯрзНржЯ ржПржХржЯрж╛ Figure ЁЯУИ

```
[ Parent Process ]
    |
    | fork()
    V
[ Child Process ]
    |
    |--- shmat --> [ Shared Memory (int value) ] <-- shmat ---|
    |                                                        |
    |--- Write: 20                                            |
    |                                                        |
    |                --- Read: 20 ---                        |
    |
(Detach, Wait, Done)
```

---

# ЁЯФе Summary ржПржХ рж▓рж╛ржЗржирзЗ:

> Shared memory рж╣рж▓рзЛ тАФ ржПржХрж╛ржзрж┐ржХ ржкрзНрж░рж╕рзЗрж╕рзЗрж░ ржоржзрзНржпрзЗ ржжрзНрж░рзБрждрждржо ржбрзЗржЯрж╛ рж╢рзЗржпрж╝рж╛рж░рж┐ржВ ржХрж░рж╛рж░ ржПржХржЯрж╛ ржкржжрзНржзрждрж┐, ржпрзЗржЦрж╛ржирзЗ ржЖрж▓рж╛ржжрж╛ message passing ржЫрж╛ржбрж╝рж╛ржЗ ржбрзЗржЯрж╛ Access ржХрж░рж╛ ржпрж╛ржпрж╝ред

---

# тЮбя╕П ржпржжрж┐ ржЪрж╛ржУ, ржЖржорж┐ рждрзЛржорж╛ржХрзЗ:
- ржПржХржЯрж┐ **ржЖрж░ржУ ржмрзЬ Practical Example**
- ржЕржержмрж╛ **Diagram рж╕рж╣ ржПржХржЯрж╛ Full Life Cycle (Create тЖТ Attach тЖТ Use тЖТ Detach тЖТ Destroy)**
- ржЕржержмрж╛ **Quiz/MCQ Practice** ржмрж╛ржирж┐ржпрж╝рзЗ ржжрж┐рждрзЗ ржкрж╛рж░рж┐! ЁЯОп  

ржмрж▓ржмрзЗ? тЭдя╕П  
(рждрж╛рж╣рж▓рзЗ рждрзБржорж┐ рззрзжрзж% Shared Memory expert рж╣рзЯрзЗ ржпрж╛ржмрзЗ ржнрж╛ржЗ!) тЬЕ  
Ready? ЁЯЪА
ржЪржорзОржХрж╛рж░! ЁЯШН  
рждрзБржорж┐ ржмрж▓рж▓рзЗ тАФ рждрж╛ржЗ ржЖржорж┐ рждрзЛржорж╛рж░ ржЬржирзНржп **Diagram + Full Life Cycle + Practical Example + ржЫрзЛржЯрзНржЯ MCQ Practice** ржмрж╛ржирж╛ржЪрзНржЫрж┐ред  
ржЪрж▓рзЛ рж╢рзБрж░рзБ ржХрж░рж┐ тАФ ЁЯЪА

---

# ЁЯЫС Shared Memory Life Cycle (Diagram + Step by Step)

```plaintext
1. Create
     |
     V
  shmget()  <-- ржПржХржЯрж╛ ржирждрзБржи shared memory ржмрж╛ржирж╛ржУ
     |
2. Attach
     |
     V
  shmat()   <-- ржПржЗ shared memory ржХрзЗ ржкрзНрж░рж╕рзЗрж╕рзЗ ржпрзБржХрзНржд ржХрж░рзЛ
     |
3. Use
     |
     V
  Read / Write <-- ржПржЦрж╛ржирзЗ data ржкрзЬржмрзЗ ржмрж╛ рж▓рж┐ржЦржмрзЗ
     |
4. Detach
     |
     V
  shmdt()   <-- ржХрж╛ржЬ рж╢рзЗрж╖? рждрж╛рж╣рж▓рзЗ ржорзЗржорзЛрж░рж┐ ржерзЗржХрзЗ Disconnect ржХрж░рзЛ
     |
5. Destroy (optional)
     |
     V
  shmctl( IPC_RMID ) <-- ржкрзБрж░рзЛ shared memory delete ржХрж░рзЛ
```

---

# ЁЯФ╡ Full Practical Example (C++ Style) ЁЯФе

```cpp
#include <iostream>
#include <sys/ipc.h>
#include <sys/shm.h>
#include <unistd.h>
#include <sys/wait.h>
using namespace std;

int main() {
    // Step 1: Create Shared Memory
    key_t key = 1234;
    int shmid = shmget(key, sizeof(int), IPC_CREAT | 0666);

    if (shmid < 0) {
        perror("shmget failed");
        exit(1);
    }
    cout << "Shared Memory Created: ID = " << shmid << endl;

    // Step 2: Fork a child
    pid_t pid = fork();

    if (pid < 0) {
        perror("fork failed");
        exit(1);
    }
    else if (pid == 0) {
        // Child Process
        int* shared_data = (int*)shmat(shmid, nullptr, 0);
        *shared_data = 200; // Step 3: Write
        cout << "Child Wrote: " << *shared_data << endl;
        shmdt(shared_data); // Step 4: Detach
    }
    else {
        // Parent Process
        wait(nullptr); // Wait for child
        int* shared_data = (int*)shmat(shmid, nullptr, 0);
        cout << "Parent Read: " << *shared_data << endl;
        shmdt(shared_data); // Detach

        // Step 5: Destroy Shared Memory
        shmctl(shmid, IPC_RMID, nullptr);
        cout << "Shared Memory Destroyed." << endl;
    }
    return 0;
}
```

---
тЬЕ ржПржЦрж╛ржирзЗ:
- **Child рж▓рж┐ржЦржЫрзЗ:** 200
- **Parent ржкрзЬржЫрзЗ:** 200
- **рж╢рзЗрж╖рзЗ ржорзЗржорзЛрж░рж┐ ржорзБржЫрзЗ ржлрзЗрж▓ржЫрзЗред**

---

# ЁЯФе ржЫрзЛржЯрзНржЯ MCQ Practice (Practice Questions)  

**Question 1:**  
ЁЯФ╣ ржХрзЛржи ржлрж╛ржВрж╢ржи ржжрж┐рзЯрзЗ Shared Memory рждрзИрж░рж┐ ржХрж░рж╛ рж╣рзЯ?  
**a)** fork()  
**b)** shmget()  
**c)** exec()  
**d)** shmdt()  

тЮбя╕П **Answer:** b) shmget()

---

**Question 2:**  
ЁЯФ╣ ржХрзЛржи ржлрж╛ржВрж╢ржи ржжрж┐рзЯрзЗ Shared Memory ржорзЗржорзЛрж░рж┐ ржерзЗржХрзЗ ржЫрж╛рзЬрж╛ржирзЛ рж╣рзЯ (detach)?  
**a)** shmctl()  
**b)** shmdt()  
**c)** shmat()  
**d)** malloc()  

тЮбя╕П **Answer:** b) shmdt()

---

**Question 3:**  
ЁЯФ╣ Child ржпржжрж┐ shared memory рждрзЗ ржХрж┐ржЫрзБ рж▓рж┐ржЦрзЗ, Parent рж╕рзЗржЯрж╛ ржкрзЬрзЗ ржирж┐рждрзЗ ржкрж╛рж░рзЗ ржХрж┐?  
**a)** рж╣рзНржпрж╛ржБ  
**b)** ржирж╛  

тЮбя╕П **Answer:** a) рж╣рзНржпрж╛ржБ

---

# ЁЯФ╡ Summary ЁЯЪА

| рж╕рзНржЯрзЗржк | ржХрж╛ржЬ |
|:-----|:----|
| shmget() | Shared Memory рждрзИрж░рж┐ ржХрж░рж╛ |
| shmat() | Shared Memory ржпрзБржХрзНржд ржХрж░рж╛ |
| *read/write* | Data ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ |
| shmdt() | ржорзЗржорзЛрж░рж┐ ржерзЗржХрзЗ ржЫрж╛рзЬрж╛ржирзЛ |
| shmctl() | ржорзЗржорзЛрж░рж┐ ржорзБржЫрзЗ ржлрзЗрж▓рж╛ |

---

# ЁЯОп Ready to be a Shared Memory Champion!  


